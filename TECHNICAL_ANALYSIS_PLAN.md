# 기술적 분석 통합 계획

## 목표
F-Score 우량 종목 중에서 차트상 최적의 매수 타이밍을 가진 종목 선별

---

## 구현할 기술적 지표

### 1. 이동평균선 (Moving Average)
**목적**: 추세 및 매수/매도 신호 포착

#### 골든크로스 (Golden Cross) ⭐⭐⭐⭐⭐
```python
단기 이평선(5일, 20일)이 장기 이평선(60일, 120일)을 상향 돌파
→ 강력한 매수 신호

예시:
- 20일선 > 60일선 (최근 3일 이내)
- 5일선 > 20일선 (최근 5일 이내)
```

#### 데드크로스 제외 (Dead Cross)
```python
단기 이평선이 장기 이평선 하향 돌파
→ 해당 종목 제외
```

#### 정배열 확인
```python
5일 > 20일 > 60일 > 120일
→ 강한 상승 추세
```

---

### 2. RSI (Relative Strength Index)
**목적**: 과매수/과매도 구간 및 반등 시점 포착

#### 매수 신호
```python
✅ RSI 30~50 구간 (과매도 탈출 후 반등)
✅ RSI 50 돌파 (상승 모멘텀 확인)
✅ RSI 다이버전스 (가격 하락 but RSI 상승)

❌ RSI > 70 (과매수, 조정 가능성)
❌ RSI < 30 (추가 하락 리스크)
```

---

### 3. MACD (Moving Average Convergence Divergence)
**목적**: 추세 전환 및 모멘텀 확인

#### 매수 신호
```python
✅ MACD > Signal (MACD선이 시그널선 상향 돌파)
✅ MACD 히스토그램 > 0 (양전환)
✅ MACD가 0선 돌파 (강한 상승 전환)
```

---

### 4. 볼린저 밴드 (Bollinger Bands)
**목적**: 변동성 및 반등 구간 확인

#### 매수 신호
```python
✅ 하단 밴드 터치 후 반등 (과매도 반등)
✅ 중심선(20일) 돌파 (추세 전환)
✅ 밴드폭 축소 후 확대 (변동성 돌파)

❌ 상단 밴드 근처 (과매수)
```

---

### 5. 거래량 분석
**목적**: 매수세 강도 확인

#### 매수 신호
```python
✅ 거래량 급증 (평균 대비 2배 이상)
✅ 가격 상승 + 거래량 증가 (건강한 상승)
✅ 20일 평균 거래량 돌파

❌ 가격 상승 + 거래량 감소 (약한 상승)
```

---

### 6. 지지/저항선
**목적**: 주요 가격대 돌파 확인

#### 매수 신호
```python
✅ 저항선 돌파 (52주 최고가, 전고점)
✅ 지지선 테스트 후 반등
✅ 박스권 상단 돌파
```

---

## 종합 타이밍 스코어 (0~10점)

### 점수 체계
```python
1. 골든크로스 (20일 > 60일) +2점 ⭐
2. 단기 정배열 (5일 > 20일) +1점
3. RSI 30~70 구간 +1점
4. RSI 50 돌파 +1점
5. MACD > Signal +2점 ⭐
6. 볼린저 하단 반등 +1점
7. 거래량 급증 +1점
8. 저항선 돌파 +1점

총점 7점 이상 → 강력 매수 타이밍 ⭐⭐⭐
총점 5~6점 → 양호 매수 타이밍 ⭐⭐
총점 3~4점 → 관망
총점 0~2점 → 매수 보류
```

---

## 최종 통합 전략

### Phase 1: F-Score 필터링
```python
F-Score >= 4점 종목 선정 (약 469개)
```

### Phase 2: 기술적 분석 스코어링
```python
차트 데이터 수집 (최근 120일)
타이밍 스코어 계산 (0~10점)
```

### Phase 3: 최종 리스트
```python
조합 점수 = F-Score * 10 + 타이밍 스코어 * 5

예시:
- 삼성바이오 (F-Score 6, 타이밍 8) = 60 + 40 = 100점
- 셀트리온 (F-Score 5, 타이밍 3) = 50 + 15 = 65점

상위 50개 → 최종 매수 후보
```

---

## 구현 계획

### 1단계: 데이터 수집 모듈
```python
# technical_data_collector.py
- pykrx로 가격/거래량 데이터 수집
- 최근 120일 OHLCV 데이터
- 병렬 처리로 빠른 수집
```

### 2단계: 지표 계산 모듈
```python
# technical_indicators.py
- 이동평균 계산 (SMA, EMA)
- RSI 계산
- MACD 계산
- 볼린저 밴드 계산
- 거래량 분석
```

### 3단계: 시그널 검출 모듈
```python
# timing_signals.py
- 골든크로스 감지
- RSI 구간 판별
- MACD 크로스 감지
- 거래량 분석
- 타이밍 스코어 산출
```

### 4단계: 통합 실행 모듈
```python
# hybrid_fscore_timing.py
1. F-Score 계산 (기존)
2. 기술적 분석 추가
3. 통합 점수 산출
4. 최종 리스트 생성
```

### 5단계: 시각화
```python
# visualize_signals.py
- 차트 + 지표 표시
- 매수 신호 하이라이트
- PDF 리포트 생성
```

---

## 예상 결과

### Before (F-Score만)
```
469개 우량 종목
→ 언제 사야 할지 모름
→ 고점 매수 리스크
```

### After (F-Score + 차트)
```
50개 최적 타이밍 종목
→ 지금 매수해도 되는 종목
→ 리스크 최소화
```

---

## 예상 소요 시간
- 1단계: 데이터 수집 (1일)
- 2단계: 지표 계산 (1일)
- 3단계: 시그널 검출 (1일)
- 4단계: 통합 (0.5일)
- 5단계: 시각화 (0.5일)

**총 4일 소요 예상**

---

## 리스크 및 한계

### 주의사항
1. **과거 데이터 기반** - 미래 보장 없음
2. **단기 변동성** - 기술적 신호는 자주 바뀜
3. **거짓 신호** - 골든크로스 후 하락도 가능
4. **시장 상황** - 전체 시장 하락 시 무용지물

### 권장 사항
```python
# 보수적 전략
F-Score >= 5 AND 타이밍 >= 7

# 공격적 전략
F-Score >= 4 AND 타이밍 >= 5

# 분산 투자
최종 리스트 상위 10~20개 분산
```

---

## 다음 단계

1. ✅ 계획 수립 (완료)
2. ⏳ 기술적 지표 라이브러리 선택
   - Option A: TA-Lib (C 라이브러리, 빠름)
   - Option B: pandas-ta (순수 Python, 쉬움)
   - Option C: 직접 구현 (학습 목적)
3. ⏳ 프로토타입 개발
4. ⏳ 백테스팅으로 전략 검증
5. ⏳ 프로덕션 배포

---

**이 전략을 진행하시겠습니까?**
